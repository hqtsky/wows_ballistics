{"version":3,"sources":["components/ShellForms/Types.tsx","components/ShellForms/ShellParameters.tsx"],"names":["labelI","GeneralTooltip","React","lazy","ShellParameters","nameForm","createRef","downloadRef","handleValueChange","value","k","props","updateDownloadJSON","formData","selectedData","clonedeep","FormData","colors","url","URL","createObjectURL","Blob","JSON","stringify","type","current","update","name","addForms","commonStyle","inputGroup","width","formLabel","padding","singleForm","i","key","S","ParameterForm","controlId","ref","newValue","String","append","unit","style","ariaLabel","fallback","title","content","description","Icon","color","verticalAlign","Object","entries","formLabels","map","this","updateItem","updateValue","forEach","Form","Row","Col","sm","DownloadButton","label","updateData","PureComponent"],"mappings":"+KAEYA,E,oHAAAA,O,eAAAA,I,eAAAA,I,aAAAA,I,8BAAAA,M,0BCONC,EAAiBC,IAAMC,MAAK,kBAAM,2CAG3BC,EAAb,4MACCC,SAAWH,IAAMI,YADlB,EAECC,YAAcL,IAAMI,YAFrB,EAGCE,kBAAoB,SAACC,EAAOC,GAAO,EAAKC,MAAMH,kBAAkBC,EAAOC,IAHxE,EAYCE,mBAAqB,WACpB,IAAMC,EAAW,EAAKF,MAAME,SAAUC,EAAeC,IAAUC,iBAAkBF,EAAaG,OACxF,IAAMC,EAAMC,IAAIC,gBAAgB,IAAIC,KAAK,CAACC,KAAKC,UAAUT,IAAgB,CAACU,KAAM,6BAChF,EAAKjB,YAAYkB,QAASC,OAAOR,EAAKL,EAASc,KAAO,UAf9D,EAiBCC,SAAW,WACV,IAAMjB,EAAQ,EAAKA,MACbkB,EAAc,CACnBC,WAAW,CAACC,MAAO,OACnBC,UAAU,CAACC,QAAS,IAEfC,EAAa,SAAC,EAAqCC,GAAO,IAAD,mBAA1CC,EAA0C,KAArC3B,EAAqC,KACxDkB,EAAOlB,EAAM4B,EAASV,MAC5B,OACA,kBAACW,EAAA,EAAD,CAAeF,IAAKD,EAAGI,UAAWH,EAAKI,IAAK/B,EAAM4B,EAASG,KAC1DC,SAAUC,OAAO/B,EAAME,SAASuB,IAChC5B,kBAAmB,EAAKA,kBACxBgB,KAAK,SAASmB,OAAQlC,EAAM4B,EAASO,MACrCC,MAAOhB,EAAaiB,UAAWnB,GACf,kBAAC,WAAD,CAAUoB,SAAU,4CAChB,kBAAC9C,EAAD,CAAgB+C,MAAOrB,EAAMsB,QAASxC,EAAM4B,EAASa,cACtE,6BACEvB,EACD,kBAACwB,EAAA,EAAD,CAAMxB,KAAK,0BAA0ByB,MAAM,OAAOP,MAAO,CAACQ,cAAe,cAMX,OAAxD,kBAAMC,OAAOC,QAAQ5C,EAAM6C,YAAYC,IAAIvB,KAzCzD,6DAKE,IAAMvB,EAAQ+C,KAAK/C,MACbgD,EAAa,SAAC,GAA+C,IAAD,mBAA7CvB,EAA6C,UAC3DC,EAASG,KAAKf,QAASmC,YAAYjD,EAAME,SAASuB,KAGzD,OADkBkB,OAAOC,QAAQ5C,EAAM6C,YAAYK,QAAQF,KAT7D,+BA4CE,OACF,oCACC,kBAACG,EAAA,EAAD,KACEJ,KAAK9B,UAAL8B,IAEF,kBAACK,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAG,MACR,kBAACD,EAAA,EAAD,CAAKC,GAAG,KACR,kBAACC,EAAA,EAAD,CAAgBC,MAAM,eAAeC,WAAYV,KAAK9C,mBAAoB4B,IAAKkB,KAAKnD,YAAasC,MAAO,CAACd,MAAO,WAEhH,kBAACiC,EAAA,EAAD,CAAKC,GAAG,YAtDV,GAAqC/D,IAAMmE,eA+D5BjE","file":"static/js/4.acb04d4e.chunk.js","sourcesContent":["import ParameterForm from '../UtilityComponents/ParameterForm';\r\n\r\nexport enum labelI {name, unit, ref, description}\r\nexport type labelT = [string, string,React.RefObject<ParameterForm>, string | JSX.Element];\r\nexport interface formTemplate<K>{\r\n\tcaliber: K, muzzleVelocity: K, dragCoefficient: K, mass: K,\r\n\tkrupp: K, fusetime: K, threshold: K, normalization: K, \r\n\tra0: K, ra1: K, HESAP: K,\r\n}\r\nexport type formLabelsT = formTemplate<labelT>;\r\nexport type formsT = keyof(formLabelsT);\r\n\r\nexport interface formDataT extends formTemplate<number>{name: string, colors: string[]}","import React, {Suspense} from 'react';\r\nimport {Form, Col, Row} from 'react-bootstrap';\r\nimport {Icon} from 'semantic-ui-react';\r\nimport clonedeep from 'lodash.clonedeep';\r\n\r\nimport * as S from './Types';\r\nimport {ParameterForm} from '../UtilityComponents/ParameterForm';\r\nimport DownloadButton from '../UtilityComponents/DownloadButton';\r\n\r\nconst GeneralTooltip = React.lazy(() => import('../UtilityComponents/Tooltips'));\r\n\r\ninterface shellParametersProps {handleValueChange: any, formLabels : S.formLabelsT, formData: S.formDataT}\r\nexport class ShellParameters extends React.PureComponent<shellParametersProps>{\r\n\tnameForm = React.createRef<ParameterForm>();\r\n\tdownloadRef = React.createRef<DownloadButton>();\r\n\thandleValueChange = (value, k) => {this.props.handleValueChange(value, k);}\r\n\tupdateShells() {\r\n\t\tconst props = this.props;\r\n\t\tconst updateItem = ([key, value] : [S.formsT, S.labelT]): void => {\r\n\t\t\tvalue[S.labelI.ref].current!.updateValue(props.formData[key]);\r\n\t\t}\r\n\t\tconst run = () => Object.entries(props.formLabels).forEach(updateItem);\r\n\t\treturn run();\r\n\t}\r\n\tupdateDownloadJSON = () => {\r\n\t\tconst formData = this.props.formData, selectedData = clonedeep(FormData); delete selectedData.colors;\r\n        const url = URL.createObjectURL(new Blob([JSON.stringify(selectedData)], {type: 'text/json;charset=utf-8'}));\r\n        this.downloadRef.current!.update(url, formData.name + '.json');\r\n\t}\r\n\taddForms = () => {\r\n\t\tconst props = this.props;\r\n\t\tconst commonStyle = {\r\n\t\t\tinputGroup:{width: \"50%\"},\r\n\t\t\tformLabel:{padding: 0}\r\n\t\t}\r\n\t\tconst singleForm = ([key, value] : [S.formsT, S.labelT], i) => {\r\n\t\t\tconst name = value[S.labelI.name];\r\n\t\t\treturn (\r\n\t\t\t<ParameterForm key={i} controlId={key} ref={value[S.labelI.ref]}\r\n\t\t\t\tnewValue={String(props.formData[key])}\r\n\t\t\t\thandleValueChange={this.handleValueChange} \r\n\t\t\t\ttype=\"number\" append={value[S.labelI.unit]}\r\n\t\t\t\tstyle={commonStyle} ariaLabel={name}>\r\n                    <Suspense fallback={<div>Loading...</div>}>\r\n                        <GeneralTooltip title={name} content={value[S.labelI.description]}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t<Icon name='question circle outline' color='grey' style={{verticalAlign: 'top'}}/>\r\n\t\t\t\t\t\t\t</div>\r\n                        </GeneralTooltip>\r\n                    </Suspense>\r\n\t\t\t</ParameterForm>);\r\n\t\t}\r\n\t\tconst run = () => Object.entries(props.formLabels).map(singleForm); return run;\r\n\t}\r\n\trender() {\r\n\t\treturn(\r\n<>\r\n\t<Form>\r\n\t\t{this.addForms()()}\t\r\n\t</Form>\r\n\t<Row>\r\n\t\t<Col sm=\"3\"/>\r\n\t\t<Col sm=\"6\">\r\n\t\t<DownloadButton label=\"Download Raw\" updateData={this.updateDownloadJSON} ref={this.downloadRef} style={{width: \"100%\"}}/>\r\n\t\t</Col>\r\n\t\t<Col sm=\"3\"/>\r\n\t</Row>\r\n</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport type ShellParametersT = ShellParameters;\r\n\r\nexport default ShellParameters;"],"sourceRoot":""}